---
- name: Instalar y configurar MySQL en Ubuntu
  hosts: all  # Reemplaza 'all' con tu grupo de hosts
  become: yes

  tasks:
    - name: Actualizar la lista de paquetes
      apt:
        update_cache: yes
      become: true

    - name: Instalar el servidor MySQL
      apt:
        name: mysql-server
        state: present
      become: true

    - name: Configurar el archivo de configuraci√≥n de MySQL
      lineinfile:
        path: /etc/mysql/mysql.conf.d/mysql.cnf
        regexp: '^bind-address\s*='
        line: 'bind-address = 0.0.0.0'
      become: true

    - name: Reiniciar el servicio de MySQL
      service:
        name: mysql
        state: restarted
      become: true
